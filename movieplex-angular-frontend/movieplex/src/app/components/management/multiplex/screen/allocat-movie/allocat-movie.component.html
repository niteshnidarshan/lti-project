<div class="container">
    <form [formGroup]="screenEditForm" (ngSubmit)="confirmEdit()">
        <div class="row large-box" style="width: 100%;">

            <div class="col-md-12">
                <mat-card class="header">
                    <mat-card-title>Update Screen</mat-card-title>
                </mat-card>
            </div>
            <div class="col-md-12">&nbsp; </div>
            <div class="col-md-6">

                <p>
                    <mat-form-field class="text-full-width" appearance="standard">
                        <mat-label>Screen Name</mat-label>
                        <input matInput placeholder="Screen Name" [formControl]="screenEditForm.controls['screenName']"
                            [value]="screenEditForm.controls['screenName'].value | titlecase" required />
                        <mat-error *ngIf="screenEditForm.controls['screenName'].hasError('required') && screenEditForm.controls['screenName'].dirty">
                            Screen name is mandatory.
                        </mat-error>
                    </mat-form-field>
                </p>

            </div>
            <div class="col-md-2"> 
                <mat-form-field class="text-full-width"  appearance="standard">
                    <mat-label>Screen Size</mat-label>
                    <input matInput type="number" placeholder="Screen Size" [formControl]="screenEditForm.controls['screenSize']" />
                </mat-form-field> 
            </div> 
            <div class="col-md-2"> 
                <mat-form-field class="text-full-width"  appearance="standard">
                    <mat-label>Number of seats</mat-label>
                    <input matInput type="number" placeholder="Total number of seats" [formControl]="screenEditForm.controls['totalSeat']" />
                </mat-form-field> 
            </div>

            <div class="col-md-12">

                <p>
                    <mat-form-field class="text-full-width" appearance="standard">
                        <mat-label>Allocate movie</mat-label>
                        <mat-select [formControl]="screenEditForm.controls['movie']" (selectionChange)="getSelectedMovie($event)">
                            <mat-option [value]="">None</mat-option>
                            <mat-option *ngFor="let movie of movieList" [value]="movie.movieId">
                                <span class="list-span">
                                    <span class="sub-list-span"><img src='{{"http://localhost:8765"+movie.posterURL}}'></span>
                                    <span class="sub-list-span">{{movie.name}}</span>
                                    <span class="sub-list-span">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   Release Date:&nbsp;{{movie.releaseDate | date: 'fullDate'}}</span>
                                </span>
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </p>

            </div>

            <div class="col-md-3">
                <p>
                    <mat-form-field appearance="standard" class="text-full-width">
                        <mat-label>Show Start Date</mat-label>
                        <input matInput [matDatepicker]="startDatePicker" placeholder="dd-Mon-yyyy"
                            [formControl]="screenEditForm.controls['showStartDate']">
                        <mat-datepicker-toggle matSuffix [for]="startDatePicker"></mat-datepicker-toggle>
                        <mat-datepicker #startDatePicker color="accent"></mat-datepicker>


                    </mat-form-field>
                </p>
            </div>
            <div class="col-md-3">
                <p>
                    <mat-form-field appearance="standard" class="text-full-width">
                        <mat-label>Show End Date</mat-label>
                        <input matInput [matDatepicker]="endDatePicker" placeholder="dd-Mon-yyyy"
                            [formControl]="screenEditForm.controls['showEndDate']">
                        <mat-datepicker-toggle matSuffix [for]="endDatePicker"></mat-datepicker-toggle>
                        <mat-datepicker #endDatePicker color="accent"></mat-datepicker>


                    </mat-form-field>
                </p>
            </div>
    
            <div class="col-md-12" style="align-content: center;">
                &nbsp;<mat-hint>{{updateInfo}}</mat-hint>
                &nbsp;<mat-error>{{errorInfo}}</mat-error>
                <br>
            </div>
            <div class="col-md-12" style="align-content: left;">
                <span matTooltip="Add Movie">
                    <button type="submit" mat-raised-button [disabled]="!(screenEditForm.dirty && screenEditForm.valid)">
                        <mat-icon color="accent">update</mat-icon>
                        <span>Update Screen</span>

                    </button>
                </span>
                &nbsp; &nbsp;
                <span matTooltip="Cancel">
                    <button mat-raised-button (click)="cancel()">
                        <mat-icon color="accent">close</mat-icon>
                        <span>Close</span>

                    </button>
                </span>
            </div>

            <div class="col-md-12" style="align-content: center;">
                &nbsp;
            </div>
            <div class="col-md-12" style="align-content: center;">
                &nbsp;
            </div>
            <br>
            <br>
            <div class="col-md-12" style="align-content: center;">
                &nbsp;
            </div>
            <div class="col-md-12" style="align-content: center;">
                &nbsp;
            </div>
        </div>
    </form>

</div>